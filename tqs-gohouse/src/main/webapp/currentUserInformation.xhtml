<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html 
    xmlns = "http://www.w3.org/1999/xhtml" 
    xmlns:h = "http://java.sun.com/jsf/html"
    xmlns:p = "http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:b="http://bootsfaces.net/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:head>
        <title>GoHouse</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <h:outputStylesheet library="Css" name="styles.css"  />    
    </h:head>

    <h:body style="padding-top: 50px; padding-bottom: 20px;">

        <!-- [INIT] Navigation bar -->
        <b:form> <b:navBar brand="GoHouse" brandHref="home.xhtml" inverse="true" fixed="top">
                <b:navbarLinks>
                    <b:navLink value="Login" href="login.xhtml"                       icon-awesome="fa fa-address-book" rendered="#{!userDetailsBean.isLoggedIn}"></b:navLink>
                    <b:navLink value="Adicionar Propriedade" href="addProperty.xhtml" icon-awesome="fa-plus-square"></b:navLink>
                    <b:navLink value="Adicionar Quartos" href="addRoom.xhtml"         icon-awesome="fa-plus-square"></b:navLink>
                    <b:navLink value="Registar Universidade" href="registerUniversity.xhtml" icon-awesome="fa-edit"></b:navLink>
                    <b:navLink value="Pesquisar" href="search.xhtml"                  icon-awesome="fa-search-plus" ></b:navLink>
                    <b:navLink value="Minha Conta" href="currentUserInformation.xhtml"                  icon-awesome="fa-user" ></b:navLink>
                    <b:navCommandLink value="Logout" action="#{logBean.redirect()}"     icon-awesome="fa-sign-out"></b:navCommandLink>

                </b:navbarLinks>
            </b:navBar></b:form>
        <!--[End] NavigationBar -->

        <!--User Email-->
        <div style="padding-left: 20px;padding-top: 20px">
            <h3>Minha conta</h3>
        </div>

        <!-- User information -->
        <b:panel title="#{beanUserInfo.userPlatform.name}" class="col-xs-12 col-sm-12 col-md-12 col-lg-12" collapsible="false">
            <div class="panelStyle">
                <div>                                
                    <h4><b>Nome:</b>  #{beanUserInfo.userPlatform.name} </h4>
                    <h4><b>Email: </b> #{beanUserInfo.userPlatform.email}</h4>
                    <h4><b>Idade: </b>#{beanUserInfo.userPlatform.age}</h4>
                    <h4><b>Rating: </b> #{beanUserInfo.userPlatform.userRating}</h4>
                </div>
            </div>
        </b:panel>


        <!--Avaliação -->
        <div style="padding-left: 20px;padding-top: 20px">
            <h3>Avaliar Propriedades</h3>
        </div>
        <div class="col-md-12 col-lg-12 col-sm-12">

            <b:panel title="Avaliação" collapsible="false">
                <h:form>

                    <p><h4>Propriedade: </h4> <h:selectOneMenu value="#{beanUserInfo.selectedSenhorio}" required="true">
                            <f:selectItems var="ender" value="#{beanUserInfo.senhorios}" itemValue="#{ender}" /></h:selectOneMenu> </p>

                    <p><h4>Rating:  </h4><h:inputText value="#{beanUserInfo.rating}" required="true" ></h:inputText> </p> 

                    <h:commandButton value="Avaliar" action="#{beanUserInfo.submitRating()}" />
                </h:form>
            </b:panel>

        </div>


        <!--User's Properties -->
        <div style="padding-left: 20px;padding-top: 20px">
            <h3>Quartos Arrendados</h3>
        </div>

        <div style="padding-right: 10px">            
            <ui:repeat value="#{beanUserInfo.roomsList}" var="rooms">
                <b:panel title="#{rooms.property.address}" class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                    <div class="panelStyle">
                        <div>                                
                            <h4><b>Descrição: </b> #{rooms.description}</h4>
                            <h4><b>Renda: </b> #{rooms.rent}</h4>
                        </div>
                    </div>
                </b:panel>
            </ui:repeat>   
        </div>


    </h:body>
</html>